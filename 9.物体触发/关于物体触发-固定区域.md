## 插件介绍

◆Drill_CoreOfFixedArea 物体触发 - 固定区域核心

◆Drill_EventAutoTrigger 物体触发 - 固定区域 & 玩家接近 & 条件触发

◆Drill_EventRangeTrigger 物体触发 - 固定区域 & 条件触发

◆Drill_EventRangeAnimation 物体触发 - 固定区域 & 播放并行动画

◆Drill_EventRandomPoint 物体触发 - 固定区域 & 随机点

物体触发插件灵活度非常高，可以做许多触发效果，但前提是你必须了解概念关系。

### 快速区分

**固定区域**：多种形状区域、自定义区域、筛选器、必然穿透

![F:\\rpg
mv箱\\2\$4JMO4YRQOF5OLZE15XVXW.jpg](media/image1.jpeg){width="2.2916983814523184in"
height="1.5638888888888889in"} ![F:\\rpg
mv箱\\{6\[B8\[0_ISA%\~\$UH5QRI@}1.jpg](media/image2.jpeg){width="1.7915649606299213in"
height="1.574484908136483in"}

**可变激光区域**：激光被阻挡多变、方向固定、穿透属性、含起始点/终止点

![F:\\rpg
mv箱\\%ET62DK\$7NGC)4\]HSDLMI2L.jpg](media/image3.jpeg){width="2.2923972003499564in"
height="1.75in"} ![F:\\rpg
mv箱\\928D\[Z7Y0N9A{N0G\`6{T4)6.jpg](media/image4.jpeg){width="2.1326388888888888in"
height="1.7657031933508311in"}

### 模块关系

固定区域与可变激光区域中的模块相互关系如下图：

![](media/image6.emf)

### 插件关系

物体触发插件之间是一个网状+树结构：

蓝色的为物体触发主要插件，白色为外部相关插件。**虚线表示扩展关系，可以断开，实线表示必备关系，若有子插件则必须有父插件支持**。

![](media/image7.emf)

## 固定区域

### 形状区域

方形0 、菱形 0
、圆形0、十字0、横条0、竖条0的触发范围**只有触发的中心点**。

方形1 、菱形 1
、圆形1、十字1、横条1、竖条1的触发范围如下：（圆形在范围小时不明显）

![F:\\rpg mv箱\\aaaa
(7).jpg](media/image8.jpeg){width="1.3333333333333333in"
height="1.0471216097987752in"} ![F:\\rpg mv箱\\aaaa
(2).jpg](media/image9.jpeg){width="1.425in"
height="1.0531408573928258in"} ![F:\\rpg mv箱\\aaaa
(2).jpg](media/image9.jpeg){width="1.4198064304461941in"
height="1.0493055555555555in"} ![F:\\rpg mv箱\\aaaa
(2).jpg](media/image9.jpeg){width="1.4166666666666667in"
height="1.0469838145231847in"} ![F:\\rpg mv箱\\aaaa
(3).jpg](media/image10.jpeg){width="1.4083333333333334in"
height="1.042707786526684in"} ![F:\\rpg mv箱\\aaaa
(1).jpg](media/image11.jpeg){width="1.4416666666666667in"
height="1.0384886264216973in"}

方形2、菱形 2 、圆形2、十字2、横条2、竖条2的触发范围如下：

![F:\\rpg mv箱\\aaaa
(8).jpg](media/image12.jpeg){width="1.3666666666666667in"
height="1.0394728783902012in"} ![F:\\rpg mv箱\\aaaa
(6).jpg](media/image13.jpeg){width="1.25in"
height="1.046023622047244in"} ![F:\\rpg mv箱\\aaaa
(6).jpg](media/image14.jpeg){width="1.2416666666666667in"
height="1.0390507436570429in"} ![F:\\rpg mv箱\\aaaa
(9).jpg](media/image15.jpeg){width="1.2948064304461941in"
height="1.040596019247594in"} ![F:\\rpg mv箱\\aaaa
(5).jpg](media/image16.jpeg){width="1.4333333333333333in"
height="1.0241874453193351in"} ![F:\\rpg mv箱\\aaaa
(4).jpg](media/image17.jpeg){width="1.4916666666666667in"
height="1.0457884951881016in"}

下图为圆型区域半径为4的情况。（由于图块的是一块块固定的，所以圆一般都比较丑）

![](media/image18.png){width="2.475in" height="2.0781342957130358in"}

### 自定义区域

自定义范围与 玩家/事件
朝向的方向有关系。**你需要考虑下事件的固定朝向是否关闭。**

（静态的花盆事件也有自己的方向，这个取决于你选择了哪个方向的行走图）

以前三格的区域为例子：

![](media/image19.png){width="3.1166666666666667in"
height="0.945340113735783in"}

![C:\\Users\\lenovo\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\\_\@PN\@G\`3Y2_0M@%@\`\$UC}M8.png](media/image20.png){width="3.075in"
height="2.251457786526684in"}

0,0为玩家中心，坐标轴如上图所示。

y轴上为正数，下为负数。X轴右为正数，左为负数。

下图为实际效果。

如果自定义区域**设置为方向无关**，则只会出现第一种效果。

![](media/image21.png){width="1.3129800962379703in"
height="1.18290135608049in"}
![](media/image22.png){width="1.2395122484689414in"
height="1.1828258967629046in"}
![](media/image23.png){width="1.2562237532808398in"
height="1.2083333333333333in"}
![](media/image24.png){width="1.3077384076990377in"
height="1.1916666666666667in"}

另外需要一提的是，示例中的炸弹行走图和它的朝向是不吻合的，朝向上是点燃状态。你如果想做举起炸弹后与扔出去的朝向一致，那么你先要修改举起物体朝向一致，然后修改炸弹的行走图。

**你也可以设计自定义区域后，去地图管理层的亮片板阵那里试。**

下图则是扇形区域的触发效果：

![](media/image25.png){width="2.1166666666666667in"
height="1.732594050743657in"}

示例中，由于事件太多，插件指令巨量。你如果设计好了自定义区域想看看效果，可以直接把关键字修改了，因为事件是**只认被触发标签**的。比如修改"与玩家_扇形"：

![](media/image26.png){width="2.466666666666667in"
height="1.1310279965004375in"}
![](media/image27.png){width="3.0864851268591424in"
height="1.1305555555555555in"}

![](media/image28.png){width="1.6166666666666667in"
height="1.3619860017497813in"}

当然，不要忘了改回去哦。

### 区域主体

**区域主体：**指区域绑定的对象，区域会以这个对象进行功能展开。

**一般不需要特意区分主体是谁，但部分特殊情况需要稍加留意**。

1.你需要注意区域是跟随哪个主体。

比如，指定一个点触发，则这个点是主体，以该点为中心进行区域作用。

再比如，玩家接近插件，主体是玩家，以玩家为中心，区域内触发事件。

![](media/image18.png){width="2.475in" height="2.0781342957130358in"}
![](media/image29.jpeg){width="2.5666207349081365in"
height="2.0833333333333335in"}

2.你需要了解区域主体是什么物体。

比如，若主体是一个点，那么\"朝向一致\"的功能是无效的，因为点没有朝向。

再比如，若主体是玩家，那么\"朝向一致\"的功能是有效的，和玩家朝向一致。

（简单来说，点没有朝向，事件有朝向。点因为没有朝向，所以朝向一致肯定是无效的。）

### 筛选器

筛选器是在设置了固定的区域的基础上，对特殊图块位置的条件进行筛选，留下符合条件的图块区域的功能。

比如，下图筛选R图块1的部分：

![](media/image30.png){width="2.2083333333333335in"
height="1.9537128171478566in"}

![](media/image31.png){width="2.725in"
height="1.833487532808399in"}![](media/image32.png){width="2.5in"
height="1.8032786526684164in"}

分别为**排除R图块1**，与**只留R图块1**的菱形3区域。

另外，炸弹人AI躲避自定义固定区域的炸弹时，也能够识别筛选器，往安全的地方躲哦。

### 插件指令区分

固定区域分为**六种形状区域和自定义区域**，所以关键字比较多，注意辨认。

![](media/image33.emf)

条件触发中，包含">主动触发"和">被触发"关键字。

播放并行动画中，包含">物体范围动画"关键字。

另外，由于激光区域和固定区域的**被触发**是**共用的**，所以不区分。

如下：

\>主动触发 : 本事件 : [菱形区域]{.ul} : 1 : 击碎岩石

\>主动触发 : 事件变量\[10\] : [方形区域]{.ul} : 1 : 击碎岩石

\>主动触发 : 位置\[10,10\] : [圆形区域]{.ul} : 1 : 击碎岩石

\>主动触发 : 事件\[10\] : [竖条区域]{.ul} : 1 : 击碎岩石

\>主动触发 : 玩家位置 : [自定义区域]{.ul} : 1 : 击碎岩石

\>物体范围动画 : 本事件 : [十字区域]{.ul} : 2 : 动画\[81\]

\>物体范围动画 : 事件变量\[10\] : [圆形区域]{.ul} : 2 : 动画\[81\]

\>主动触发 : [固定区域]{.ul} : 上一次事件的 : 本事件 : 击碎岩石

\>主动触发 : [固定区域]{.ul} : 上一次事件的 : 事件\[5\] : 击碎岩石

\>[被触发]{.ul} : 本事件 : 去除条件 : 击碎岩石

具体结构的区别，需要多次使用才能逐渐理解，你也可以去"物体触发管理层"看看！

## 条件触发

### 主动触发与被触发

1\) 触发对应

触发条件可以完全自定义，"击碎岩石"这里是作为一个自定义关键字来进行触发的。**被触发中设置触发条件，主动触发设置触发条件，它们对应上了，就能激活被触发事件的独立开关**。

![](media/image34.png){width="3.7086548556430445in"
height="0.9167465004374453in"}

![](media/image35.png){width="4.40038167104112in"
height="0.6667246281714786in"}

如果你设置了不同的触发条件，那么它们之间不会相互干扰。

举个例子，下图中1号和2号岩石的触发分别为："击碎岩石"和
"击碎岩石Lv2"，这两者是互不干扰的触发关系。1号炸弹能炸碎1号条件的石头，但是无法炸碎2号条件的石头。

如果出现3号炸弹，能同时主动触发"击碎岩石""击碎岩石Lv2"两个条件，则两种岩石都能被炸碎。

![](media/image36.png){width="3.875in" height="2.7911329833770777in"}

2\) 触发开关

如果你觉得触发的ABCD独立开关不够用，可以用下面的插件：

Drill_EventSelfSwitch 物体 - 独立开关

可以控制ABCD以及E-Z，甚至AA,AB,AC......建立无限多的独立开关。

3\) 被触发标签

被触发标签是**可以关闭的**，关闭后，主动触发就不能对其进行触发了。

举个例子，玩家接近触发点亮了下面的亮片，如果把亮片 被触发
开关关闭，那么亮片也就不再受接近触发控制，将一直保持点亮状态。

![F:\\rpg
mv箱\\【素材、灵感】\\物体触发\\激光图解\\g2.jpg](media/image37.jpeg){width="2.278484251968504in"
height="1.6465277777777778in"}![F:\\rpg
mv箱\\【素材、灵感】\\物体触发\\激光图解\\g1.jpg](media/image38.jpeg){width="2.0069258530183727in"
height="1.6576388888888889in"}

### 记录区域

(两次固定区域)与(固定区域+上一次区域)的效果一样。

由于固定区域不会变化，两次选择的结果不会被改变。

但是如果**开启了筛选器**，第一次捕获与第二次捕获的结果就可能**不一样**了。因为有的事件触发之后，是直接消失的，所以筛选器筛选会少一个区域。

![](media/image39.png){width="2.301976159230096in"
height="1.9708333333333334in"}
![](media/image40.png){width="2.643989501312336in"
height="1.9916666666666667in"}

### 触发修正

**Rmmv有个缺陷，前进一步，在你开始前进的那一瞬间，你就已经被判定为在前进的位置了**。下图两个判定，明显存在误差，前者小爱丽丝没有完全进入爆炸区却被判定炸到了，后者没完全离开爆炸区，却被判定没炸到。

![](media/image41.png){width="2.066666666666667in"
height="1.5718307086614174in"}
![](media/image42.png){width="1.764426946631671in" height="1.8in"}

触发修正，就根据小爱丽丝真实判定的位置来确定是否被炸到。

![](media/image43.png){width="4.166666666666667in"
height="2.3682655293088364in"}

玩家接近触发也需要开启修正，在你前进之前，亮片就已经变化了。

## 播放并行动画

固定区域的并行动画并没有特殊的说明，你可以直接去看看"物体触发 - 固定区域
& 播放并行动画"插件的说明。

## 玩家接近

### 持续触发

**玩家接近的持续触发与一般的物体触发不同，持续触发是连续不断的触发，而一般的插件指令物体触发，只触发一次**。

举个例子，如果你使用事件指令关闭下图中亮片的独立开关，由于是持续触发，亮片会在关闭后立即重新开启。而你在实际游戏中，完全看不出有变化。

![](media/image44.png){width="2.825in" height="2.1774562554680665in"}

### 触发条件的简化思想

玩家自动触发中，可能会有不同的区域，触发同一个条件。或者不同的条件，有相交的区域。**你如果从这种复杂情况组合的方面想，就很容易把自己绕晕，实际上在你设计时，应该减少每一个变量，只考虑单一效果**。

比如，下图的小爱丽丝，同时具有"与玩家距离3"区域触发、"与玩家距离4"区域触发，这两个区域是相交的，当玩家突然出现在她面前时（
比如切换地图/瞬间位移），是3先触发还是4先触发？

![](media/image45.png){width="2.8666666666666667in"
height="2.173775153105862in"}

回答问题前，你不应该去想哪个先触发，**而是应该想办法简化思路**。

触发的流程是这样的：

玩家主动触发 \> 被触发条件距离3激活 \> 事件独立开关A开启 \>
切换A的事件页

玩家主动触发 \> 被触发条件距离4激活 \> 事件独立开关B开启 \>
切换B的事件页

而上面一大串的内容，简化后是这样的：

与玩家3距离的事件页

与玩家4距离的事件页

最后你才会发现，你写那么一大串，只是为了使得这个**事件页具有一个特殊条件**而已。至于谁先触发，当然是看事件页哪个在后面哪个算了。

**物体触发的本质是切换事件页，不是触发开关本身**。

## 随机点

### 随机出生点

你可以设置事件出现在自身坐标周围的随机的坐标中。

一般随机出生点考虑两个情况：防止事件重合、防止卡在墙里。这些可以直接通过加筛选器来实现。

![](media/image46.png){width="2.6416666666666666in"
height="2.2328893263342082in"}

### 获取随机坐标

示例中有于此相关的雷电技能。

由于雷电技能产生的随机坐标需要暂存（先出现光环，再降下雷电），可以用"物体
- 事件缓存变量"来实现。

另外，如果使用筛选器找不到相应的坐标，会被赋值-1，-1，你需要注意考虑这种情况。举个例子，精准闪电技能，找到玩家3x3范围内的敌人，进行雷电打击。那么你肯定会遇到范围内没有敌人的情况，通过判断坐标-1，可以知道法术是否成功释放。

## 关于大量事件时的游戏性能

一般来说，地图中同时放300个事件，都不会引起卡顿。

**手机的能力就不行了，最多100个事件，不然超级卡。**

（fps 30帧以上都属于流畅运行，在游戏时按F2可以查看帧数。）

固定区域插件经过反复优化，不会在大量事件同时变化时出现游戏卡顿。比如物体管理层的76个事件亮片板，你每次移动，亮片都会根据你的位置变化。

（CPU最高峰为游戏载入时的情况，次高峰为进入地图时的情况。）

![C:\\Users\\lenovo\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\\$L)UDX9VWQ\$HM0RTRQ(UQZK.png](media/image47.png){width="5.516666666666667in"
height="2.641532152230971in"}

具体性能的分数与消耗，可以去看看"性能测试统计表.xlsx"。
