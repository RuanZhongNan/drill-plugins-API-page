## 概述

### 基础插件

如果要从零开始设计 消除砖块 游戏，需要下图的插件：

![](./MediaFolder/media/image1.png){width="5.768055555555556in"
height="3.173611111111111in"}

另外，需要一些辅助的插件：

![](./MediaFolder/media/image2.png){width="5.768055555555556in"
height="1.4243055555555555in"}

**注意，该文档只详细说明 整体设计思路 和 解谜方法 。**

**对于具体 事件如何写 ，需要去看看："关于开关大家族.docx"**

### 基础配置

具体注意示例下面的地方：

**1）独立开关**

游戏流程中，重置关卡 的事件，会手动批量控制其他事件的独立开关。

这种操作是永久有效并且能被保存到存档中的，刷地图不会改变。

（另外，注意粉碎效果也需要重置复原。）

![](./MediaFolder/media/image3.png){width="4.437882764654418in"
height="2.5833333333333335in"}

**2）地图事件**

所有与该解谜相关的事件 ，都在地图"设计-消除砖块"中。

这里主要需留意四类事件：

门（触发器，计数开关插件 控制）

进入关卡（移动镜头、开启网格指向标、关闭鼠标左键控制）

离开关卡（恢复镜头、关闭网格指向标、恢复鼠标左键）

重置关卡（重置中操作 当前关卡 所有砖块的 事件id ）

![](./MediaFolder/media/image4.png){width="4.091666666666667in"
height="2.265048118985127in"}

**3）移动路线**

这里重点要注意砖块的移动路线的设置细节。

被鼠标拖动 和 未被鼠标拖动，是两种不同的移动方式。

![](./MediaFolder/media/image5.png){width="2.5833333333333335in"
height="2.197357830271216in"}
![](./MediaFolder/media/image6.png){width="2.753468941382327in"
height="2.2041666666666666in"}

**4）地形设计**

示例中的地形，白色块部分是 不可通行 的。

![](./MediaFolder/media/image7.png){width="2.183333333333333in"
height="2.2652088801399826in"}

这个通过在白色块的地形上，加一层透明的墙即可。

（透明的墙是在图块中设置了不一样四通行设置而做出来的。）

![](./MediaFolder/media/image8.png){width="2.25in"
height="1.4306353893263342in"}

## 消除砖块-谜题设计

### 设计简介

**1）游戏规则**

纯鼠标控制的游戏，鼠标左键或右键拖拽方块。

相同颜色的砖块，两两接触或者三个同时接触，会消除。

所有砖块消除才可通关。

规则细节：只有三个砖块时，如果不慎两两消除漏了一个，那么关卡就已经失败了。

**2）难度分配**

相同砖块的数量（2个或3个），能影响关卡难度

砖块堆叠的高度，能影响关卡难度。

不能消除的空白砖块，能影响解法顺序。

两个相同方块的距离、坑洞，能极大影响关卡难度。

**3）禁用能力**

无。

**4）卡关注意事项**

该解谜可随时用鼠标重置，不会卡关。

### 砖块移动细节

**细节1：玩家鼠标拖移时，如果接触到了方块，那么就消除**。

![](./MediaFolder/media/image9.png){width="3.2416666666666667in"
height="1.7130129046369205in"}

**细节2：如果是物体自身"下落"的情况，两个相邻方块不会被消除**。

![](./MediaFolder/media/image10.png){width="3.0833333333333335in"
height="2.2178379265091865in"}

上述的特殊规则，是基于 聚集开关
插件的"**完全静止2帧之后，才会触发**"的功能而实现的。正常下落时，没有任何等待，而鼠标拖动时，会等待1帧，这样就可以实现下落不消除，而拖移会消除的效果了。

![](./MediaFolder/media/image11.png){width="2.633561898512686in"
height="0.975084208223972in"}
![](./MediaFolder/media/image12.png){width="2.4166666666666665in"
height="1.1769477252843394in"}

（如果不等待这一帧，鼠标一直拖移，就说明物体一直没有静止下来，那么聚集开关就不会被触发。）

### 事件细节注意

1．你可以直接复制示例中的方块到你的游戏中，修改下面的聚集数量和标签，控制不同的效果。

![](./MediaFolder/media/image13.png){width="4.525392607174103in"
height="1.3501170166229222in"}

2．需要注意的是，由于关卡是要求所有砖块被消除，所以这里计数开关的 钥匙
，是放在消除状态的事件页中的。

![](./MediaFolder/media/image14.png){width="4.766666666666667in"
height="1.356609798775153in"}

3．示例中的"重力"就是下移n步的结果，你当然可以修改成上移、左移、右移，使得方块的重力随时可变。

![](./MediaFolder/media/image11.png){width="2.633561898512686in"
height="0.975084208223972in"}

### 设计建议

**1）设计细节**

从设计者的角度来说，你只要随便 堆一些砖块，确保所有砖块能消除就可以了。

而从玩家的角度解谜过程，实际上是 反推 设计者预设的解法。

消除砖块在解谜性质上占比并不高，更多的可能是趣味性的谜题。

另外，由于所有砖块都是事件，你可以设计不一样的墙，不一样的事件障碍，甚至还可以是炸弹、事件传送装置。从而增加关卡的趣味性。

**2）关卡安排建议**

如果你需要在你的游戏中添加该解谜类型，

关卡建议最多两关，难度最大到第五关，可作为 支线或主线谜题 。

第六关就别加了，那关的难度和复杂度明显远超其他关卡。

此解谜游戏的设计建议最多出现两次，并且最好在关卡中额外添加一些创新的元素。

## 消除砖块-谜题解法

### 最远优先法

砖块越近，就越容易消除。越远就越难消除。

所以，遇到一个谜题后，你最先要想的是如何解开最远的砖块。中间的砖块只起搭桥的功能。

比如，第二关，两个青色的砖块是最远的，而且中间有一个坑。

因此，必须要选择一个附近的砖块进行搭桥用。

![](./MediaFolder/media/image15.png){width="2.426262029746282in"
height="2.5083333333333333in"}

再比如，第五关，三个红色的砖块是最需要优先考虑的。因为中间隔了个不可移动的阻碍，所以红色必须在其他大部分砖块消除后，掉到下层，才能进行三消。

![](./MediaFolder/media/image16.png){width="2.7886668853893264in"
height="2.2583333333333333in"}

### 交错搭桥法

第六关实际上就是两个 最远优先法 的交叉。

左边的深坑 要填5个砖块，才能实现青色互消。

右边深坑 要填6个砖块，才能实现紫色互消。

这里真正考验的是你应该如何搭桥。

![](./MediaFolder/media/image17.png){width="4.13415135608049in"
height="3.108327865266842in"}

交错搭桥法，如下图：

![](./MediaFolder/media/image18.png){width="1.875in"
height="1.8641929133858268in"}

你要既确保两个砖块足够近，随时能消除，又要保持它们不会接触后立即消除，那么在对角线上的堆积，是最理想的选择。

注意，图中并不是第六关真实解法，只是一个 搭桥方法 的示意。

思路已经铺开，具体的解法需要靠你自己思考哦！
