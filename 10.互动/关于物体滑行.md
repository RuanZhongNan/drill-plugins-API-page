## 概述

### 插件介绍

◆Drill_LayerSlipperyTile 互动 - 物体滑行

地图中可以放置光滑的地面，使得玩家或事件可以在上面滑行。

+-----------------------------------------------------------------------+
| **光滑地面：**光滑地面是指能够滑行的地面，非光滑的地面上不能滑行。    |
|                                                                       |
| 插件需要将指定 地形标志 或 图块R区域 设为光滑地面，                   |
|                                                                       |
| 去看看"关于插件与图块R占用说明.xlsx"。                                |
+=======================================================================+
+-----------------------------------------------------------------------+

## 游戏硬性机制

**光滑地面上无法原地转向**：

如果角色站在光滑图块上，鼠标点击转向按键或者键盘转向，都没有效果，并且发出错误提示音。

![](./MediaFolder/media/image1.png){width="2.966666666666667in"
height="2.064798775153106in"}

**滑行时可以跳跃**：

在光滑图块滑行时，玩家可以跳跃跳过转向毯，或者斜向滑行时跳跃。

![F:\\rpg
mv箱\\QZH3IN\[T4OS(\]\~G\~%(C2BTD4.jpg](./MediaFolder/media/image2.jpeg){width="3.0in"
height="1.3310444006999125in"}

![F:\\rpg
mv箱\\M\[VZ{NV}IPZ4DFFMA{G1CEC.jpg](./MediaFolder/media/image3.jpeg){width="2.9973129921259845in"
height="2.2916666666666665in"}

**受到阻碍 或 离开光滑地面 后，才会停止滑行**：

这里受到的阻碍可以是墙壁，也可以是事件，

如果没有设置禁止，甚至还可以放置炸弹，与其他滑行的事件碰撞，可以诞生出极多的玩法。

![](./MediaFolder/media/image4.png){width="2.725in"
height="1.9344149168853892in"}
![](./MediaFolder/media/image5.png){width="2.408333333333333in"
height="1.932674978127734in"}

**滑行时，移动路线会暂停执行**：

玩家和事件进入滑行后，移动路线处于暂停状态，只有结束滑行后，才可以继续执行移动路线。

![](./MediaFolder/media/image6.png){width="1.9061351706036744in"
height="1.7583333333333333in"}
![](./MediaFolder/media/image7.png){width="3.2537970253718287in"
height="1.7666666666666666in"}

**飞行物体不会滑行**：

设置为"在人物上方"时，该事件不会滑行。

![](./MediaFolder/media/image8.png){width="2.466666666666667in"
height="0.7916666666666666in"}

**斜向滑行原理**：

斜向每次识别的是**斜向的下一个图块**通行性，下图的下方或者右方有阻碍时，可以无视。

![F:\\rpg
mv箱\\T\@PD5K6%S_PIZGHSGX4N20R.jpg](./MediaFolder/media/image9.jpeg){width="1.9916666666666667in"
height="1.794093394575678in"}![F:\\rpg
mv箱\\AE1}TKX0N\@LRQXWJ\`7\$\$}9F.jpg](./MediaFolder/media/image10.jpeg){width="1.925in"
height="1.7928926071741031in"}

**双层阻碍穿透：**

Rmmv默认情况下，如果指定方向的两侧都有阻碍，则会造成阻挡。

八方向行走图也基于这个原理。物体可变激光区域穿透也基于该原理。

![F:\\rpg
mv箱\\\]\_HB\[USR{)POI4L%{4{8KI9.jpg](./MediaFolder/media/image11.jpeg){width="1.9583333333333333in"
height="1.7830971128608923in"}

这里经过优化，你设置无视这种机制，直接穿透。

![](./MediaFolder/media/image12.png){width="2.6in"
height="0.7096194225721785in"}

![F:\\rpg
mv箱\\\]\_HB\[USR{)POI4L%{4{8K2I9.jpg](./MediaFolder/media/image13.jpeg){width="1.9583333333333333in"
height="1.7830971128608923in"}

## 游戏属性

### 区域判定

+-----------------------------------------------------------------------+
| 网格区域移动的机制是固定的。                                          |
|                                                                       |
| 举个例子，小爱丽丝从图块A移动到图块B。                                |
|                                                                       |
| ![](./MediaFolder/media/image14.png){width="1.1333333333333333in"     |
| height="0.6083333333333333in"}                                        |
|                                                                       |
| **只要小爱丽丝开始移动，那么小爱丽丝就已经处于B图块位置。**           |
|                                                                       |
| **跳跃同理，只要起跳，那么小爱丽丝就已经处于B图块位置。**             |
|                                                                       |
| 移动/跳跃过程，仅仅是处在B图块的位置，播放行走过程的动画效果而已。    |
|                                                                       |
| 这时候A图块是可通行的，B图块是阻塞的。                                |
+=======================================================================+
+-----------------------------------------------------------------------+

**区域判定修正：**修正后，身体的一半以上到达B区域，才判定为处于B区域。

此修正可根据你的实际游戏情况考虑开关。

![](./MediaFolder/media/image15.png){width="3.2in"
height="0.44976924759405074in"}

物体滑行的功能在判断 物体是否在光滑地面上 用到了区域判定。

修正与不修正差别不大。

## 设计注意事项

**玩家滑行时，不要设计出下面的情况，这样会造成死循环，卡关。**

![](./MediaFolder/media/image16.png){width="2.5083333333333333in"
height="1.9646205161854768in"}
![](./MediaFolder/media/image17.png){width="2.2083333333333335in"
height="1.9714523184601924in"}

![](./MediaFolder/media/image18.png){width="1.8916666666666666in"
height="1.825932852143482in"}
