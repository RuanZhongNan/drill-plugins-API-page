## 概述

### 插件介绍

插件基于核心：

◆Drill_CoreOfBallistics 系统 - 弹道核心

◆Drill_CoreOfGaugeMeter 系统 - 参数条核心

◆Drill_CoreOfGaugeNumber 系统 - 参数数字核心

插件本体：

◆Drill_GaugeForBoss UI -- 高级BOSS生命固定框

该插件的扩展：

◆Drill_EnemyTextColor UI - 敌人文本颜色

◆Drill_MiniPlateForState 鼠标 - 状态和buff说明窗口

◆Drill_X\_GaugeBossFilter UI - 高级BOSS框的滤镜效果\[扩展\]

该插件的配置项非常多，需要花较长的时间耐心学习。

### 插件关系

高级BOSS生命固定框的关系如下图。实线表示必须插件，虚线表示可断开的扩展插件。

![](media/image2.emf)

## 固定框样式

### 结构

固定框的结构如下图所示。

**简单来说，主要较复杂的配置为
外框+6个参数数字+3个参数条。参数条和参数数字要去相应的核心先设计好，再贴到框样式中**。

![](media/image3.emf)

固定框样式需要用过BOSS设置来绑定敌人。绑定敌人后，该敌人的生命、魔法、怒气参数会提供给相应的
参数条和参数数字，参数条和参数数字会根据参数的值，进行自我变化。

以 固定框样式-粗风格 为例，图解结构如下：

![](media/image4.png){width="5.768055555555556in"
height="1.9736111111111112in"}

其中：

1）头像不在固定框样式中配置。

因为多个不同敌人可以使用同一个固定框样式，而头像和敌人是一对一的，所以头像的配置放在boss设置中，可见后面章节。

2）生命段数和生命数字是两套不同的参数数字样式。

生命数字和生命段数的值不一样。而且生命段数有前缀"x"号，生命数字可以变形为
100/100的格式，所以二者是两种不同的参数数字。需要分别配置。

### 参数条

**1) 参数条样式**

下图为背景框与参数条的组合关系。

配置参数条坐标时，注意要使得参数条与背景框完美嵌入。

**参数条的详细样式配置，可以去看看"关于参数条.docx"，这里不赘述**。

![](media/image5.png){width="5.768055555555556in"
height="0.9777777777777777in"}

![](media/image6.png){width="4.916666666666667in"
height="0.6896117672790901in"}

![F:\\rpg
mv箱\\可能有用的素材\\参数条描述3.jpg](media/image7.jpeg){width="4.9in"
height="0.7795603674540682in"}

图中有背景框和3个参数条：（前景框为空图片，参数数字都未显示）

生命条：段数8 + 流动 + 凹槽条 + 弹出条

魔法条：段数1 + 流动

怒气条：段数1 + 流动

**2) 加满动画**

加满动画是指，框出现时，生命条加满过程的动画。

该动画在许多动作类游戏中的boss都有展现。

![](media/image8.png){width="3.7495319335083113in"
height="0.4791065179352581in"}

### 参数数字

**1) 参数数字样式**

下图为背景框与参数数字的组合关系。

**参数数字的详细样式配置，可以去看看"关于参数数字.docx"，这里不赘述**。

![](media/image9.png){width="4.033683289588802in"
height="0.8334055118110236in"}

图中有背景框，1个参数条，2个参数数字，其余的都未显示。

生命数字：右对齐

生命段数：右对齐 + "x"乘号前缀

![](media/image10.png){width="2.4502121609798775in"
height="1.108429571303587in"}

图中有背景框，2个参数条，2个参数数字，其余的都未显示。

生命数字：右对齐

魔法数字：右对齐

**2) 生命数字**

需要说明的是，最大生命值 = 生命数字的额定值
。（额定值是参数数字中的概念）

这里固定最大生命值为额定值。即显示"678/720"的格式时，720是最大生命值。

**3）生命段数**

生命段数 = 当前生命值 / 段上限

段数的数值，将会作为参数数字显示出来。你可以加"x"号前缀，或者自定义的特殊符号。

**4) 插件指令临时显示数字**

你可以使用插件指令设置参数数字在战斗进行时出现。

![](media/image11.png){width="3.7169892825896764in"
height="1.675145450568679in"}

但是前提是，你必须配置样式，如果样式为0，则什么都看不见。

![](media/image12.png){width="3.7086548556430445in"
height="2.141852580927384in"}

### 其他属性

**1) 震动效果**

Boss收到伤害时，会进行上下震动或作用震动。

注意，此功能不建议随意加，有时候加了反而影响看数字。

![](media/image13.png){width="3.025262467191601in"
height="0.7750667104111986in"}

**2) 姓名显示**

显示Boss的姓名。

姓名能够支持使用渐变颜色，但是需要Drill_EnemyTextColor敌人文本颜色插件的支持。

![](media/image14.png){width="1.5251323272090989in"
height="0.49170931758530184in"}

**3) 状态显示**

状态与数值的配置相似，可以设置并排，并 左对齐、右对齐、上对齐、下对齐 。

状态只能直线排列，不能折行。

![](media/image15.png){width="2.5517639982502187in"
height="0.6145067804024497in"}
![](media/image16.png){width="2.7809022309711287in"
height="1.4685662729658793in"}

## BOSS设置

### 绑定关联

Boss设置的结构如下图所示。

Boss设置的配置比较杂，因为敌人有很多个，多个敌人可以配置同一个固定框样式，所以敌人数据相关参数属性就都被单独拿出来进行控制了。

![](media/image17.emf)

Boss设置 -\> 固定框样式 是一对一 关系。

固定框样式 -\> Boss设置 是一对多 关系。

也就是说，多个小爱丽丝可以用同一个样式，每个小爱丽丝boss只能用一个样式。

（你可以通过插件指令，在游戏中另外修改小爱丽丝boss的样式，不过该功能不常用。）

![](media/image18.png){width="5.3639129483814525in"
height="1.458150699912511in"}

**注意，你需要在BOSS设置中分配固定框的平移位置，使得战场上出现多个boss生命框时，互不遮挡。**

**\
**

### 时机

**1) 中途出现**

BOSS处于\"中途出现\"的状态时，BOSS框也会显示。

![](media/image19.png){width="2.4502121609798775in"
height="1.425123578302712in"}![](media/image20.png){width="3.057269247594051in"
height="1.8076388888888888in"}

所以你需要在战斗前隐藏框，再通过插件指令显示，达到\"中途出现\"框。

![](media/image21.png){width="3.5416666666666665in"
height="1.2292377515310586in"}

**2) BOSS变身**

BOSS变身后，相当于换了另一个敌人。

原来的BOSS框会消失，对应新的BOSS框会显现。

**3) 车轮战**

车轮战中，每一波战斗相当于一次完整的战斗。BOSS框会重复刷新。

由于mog车轮战和战斗镜头插件交互存在bug，BOSS框在修正坐标时可能会出界，看不见BOSS框，目前此问题待解决。

## 设计

### 配置流程

**由于boss生命框、参数条核心、参数数字核心中都有不同的关联配置，这里建议使用"风格"来区分不同的生命框样式**。防止各个配置纠缠在一起，难以区分。

![](media/image22.png){width="5.768055555555556in"
height="4.134027777777778in"}

**在文件夹中查看时，建议将内容平铺，方便看图片名称和分辨率**。

![F:\\rpg mv箱\\Image
1.png](media/image23.png){width="5.362435476815398in"
height="3.1416666666666666in"}

### 示例风格

以下为示例中提供的风格：

**标准风格**：

（去看看在 boss生命固定框插件、参数条核心插件、参数数字插件
中找到"标准风格"的字眼，他们相互关联。）

![](media/image24.png){width="5.768055555555556in" height="1.025in"}

**简约风格**：

![](media/image25.png){width="5.768055555555556in" height="0.6375in"}

**像素风格**：

![](media/image26.png){width="5.768055555555556in"
height="1.0465277777777777in"}

**粗风格**：

![](media/image27.png){width="5.768055555555556in"
height="0.9652777777777778in"}

**反向风格**：

（由于该风格的生命条和魔法条都旋转了180度，所以称反向风格。）

![](media/image28.png){width="5.675492125984252in"
height="0.8000688976377953in"}

### 参考对象

boss生命框是玩家比较在意的地方，你需要多花心思设计出好看的生命框。以下是一些游戏的生命框分解参考：

《鬼泣4》的boss生命框

背景 + 前景 + 加满动画 + 生命条（1段 + 不流动 + 凹槽条）

![K:\\rmmv\\\`D\~7\$5_5H4COM18DWZHWLHR.png](media/image29.png){width="5.4in"
height="0.4840277777777778in"}

《鬼泣5》的boss生命框

背景 + 生命条（1段 + 不流动 + 凹槽条 + 粒子效果 + 游标）

![](media/image30.png){width="4.17536198600175in"
height="0.4750415573053368in"}

《猎天使魔女》的boss生命框

背景 + 加满动画 + 生命条（4段 + 不流动 + 凹槽条）

![K:\\rmmv\\DW\~E2Q}GEFDWJ5)IA\@FJCMR.png](media/image31.png){width="4.5055555555555555in"
height="1.3263888888888888in"}

DNF的boss生命框

背景 + 头像 + 名称 + 生命段数 + 生命条（8段 + 不流动 + 白色块弹出条）

![](media/image32.png){width="4.200364173228347in"
height="0.4750415573053368in"}

《苍翼默示录》的boss生命框

背景 + 头像 + 生命条（1段 + 流动 + 凹槽条 + 粒子效果） + 魔法条（1段）

![](media/image33.png){width="2.707995406824147in"
height="0.5415988626421697in"}

《血缘诅咒》的boss生命框

背景 + 名称 + 生命数字 + 生命条（1段 + 不流动 + 游标）

![](media/image34.png){width="5.768055555555556in"
height="0.5067071303587052in"}

《死亡细胞》的boss生命框

背景 + 生命条（1段 + 不流动 + 白色弹出条 + 游标）

![](media/image35.png){width="4.6670713035870515in"
height="0.5667158792650918in"}

（不过说起来，这些完美的生命框，无论怎么表现，在大作游戏里面都是锦上添花，在rpg这种小游戏里面，实在形成不了亮点。）

## 从零开始设计

在开始设计前，你可以先了解一下 [BOSS框的配置流程](#配置流程) 。

### 1.设置一个目标

首先要想明白自己想创建一个什么样的boss生命框，这一点非常重要。Boss框的功能并不是堆得越多越好，重点还是要贴合你游戏的画风。

经过百度寻找灵感，根据想法建立了一个初稿：

![F:\\rpg
mv箱\\未标题-1.jpg](media/image36.jpeg){width="5.2352941819772525in"
height="0.9657578740157481in"}

感觉单纯的一个长条太简陋了，改进一下结构：

![F:\\rpg
mv箱\\未标题-1.jpg](media/image37.jpeg){width="3.798611111111111in"
height="1.042361111111111in"}

### 2.结构分解，规划区域

你需要将 参数条、参数数字、外框
的结构分离。因为三者都在不同的插件中配置。

经过分析，可能会需要
1个背景外框、1个参数条，2个参数数字，然后就是姓名、状态、头像规划的区域。

![F:\\rpg
mv箱\\参数条核心\\BOSS框说明\\sss.png](media/image38.png){width="4.808333333333334in"
height="1.2333333333333334in"}

这里魔法和怒气不考虑。

### 3.起草资源

**1) 生命条资源 + 框架**

由于生命条是重点对象，所以这里先从生命条着手。

设计时想让条显得更加粗一些，有打击感。于是将高度设为30像素。再拉个渐变。

![](media/image39.png){width="5.475in" height="0.35396981627296586in"}

直接设计的长方形，不需要考虑遮罩。

这里也不考虑流动效果。资源长度就是实际显示长度。

条的大小确定后，再根据条的大小设计背景外框和凹槽条。

凹槽条和生命条大小一样，加一点渐变，使其看起来像是凹进去的。

![](media/image40.png){width="5.425in" height="0.3507370953630796in"}

框先设为外面包裹的一层简单框架。

![](media/image41.png){width="5.48669072615923in"
height="0.43333333333333335in"}

框架画好后，按照原来的布局想法，先把框放上：

![](media/image42.png){width="5.768055555555556in"
height="0.8090277777777778in"}

这里发现状态的位置反而挤出去了一点，有些不好看，于是放里面。

![](media/image43.png){width="5.768055555555556in"
height="0.8090277777777778in"}

**2) 生命数字资源**

生命数字可以在ps中用铅笔画字符像素点，也可以使用一种字体，然后包裹一些特效。

这里使用站酷快乐体进行设计。

![](media/image44.png){width="4.841666666666667in"
height="1.282988845144357in"}

使用一层描边+白色渐变叠加就可以了，

![](media/image45.png){width="4.191666666666666in"
height="1.5454122922134734in"}

![](media/image46.png){width="3.691666666666667in"
height="2.029449912510936in"}

然后栅格化文字，进行排布，分成等距的14份。

![](media/image47.png){width="3.133604549431321in"
height="1.450125765529309in"}

![](media/image48.png){width="5.291666666666667in"
height="1.0416415135608048in"}

**\
**

### 4.配置样式

**1) 生命条配置**

下面把打开 参数条插件
配置一个参数条，由于不考虑遮罩，并且不流动，而且当前只画了绿色1段的结构，所以配置如下：

![](media/image49.png){width="3.308333333333333in"
height="2.0323709536307963in"}

![](media/image50.png){width="3.316666666666667in"
height="1.466233595800525in"}

注意在测试前，有可能需要把部分默认资源设为空，如果默认的资源找不到，会报文件错误：

![](media/image51.png){width="5.1263156167979in"
height="0.934484908136483in"}

**2) 外框配置**

这里提及一下，固定框样式 和 BOSS配置
之所以分开，是因为前者是样式，后者是数据。*数据有可能会在游戏中临时修改，而样式是固定之后不再变化的。*

下面，打开高级boss生命框的配置，你会发现有些参数字太多了，显示不全，可以拉动下图的竖线，显示全。

![](media/image52.png){width="2.6666666666666665in"
height="1.872209098862642in"}![](media/image53.png){width="2.591666666666667in"
height="1.8874726596675415in"}

[]{#PS对坐标点
.anchor}**PS对坐标点**：这里比较关键的是要对齐条的位置与外框的坐标，由于参数条的中心锚点在左上角，所以你需要对齐外框左上角的像素点位置。（这里不考虑旋转情况，但是要留意旋转影响）

![](media/image54.png){width="4.7in" height="2.255501968503937in"}

![](media/image55.png){width="3.4048556430446193in"
height="2.091666666666667in"}

然后把背景加上。

![](media/image56.png){width="3.360184820647419in"
height="1.5916666666666666in"}

**3) 参数数字配置**

下面进入参数数字插件。参数数字相对来说，就不需要那么严格的吻合要求，不过要注意参数数字的锚点在中心，不是左上角。下图为生命数字和生命段数的配置。

![](media/image57.png){width="2.7416666666666667in"
height="1.7638681102362204in"}![](media/image58.png){width="2.8535312773403323in"
height="1.7590277777777779in"}

### 5.放置一个实例

固定框样式设计好了之后，就可以进行boss设置来绑定到敌人身上了。生命条的段上限设置等于敌人最大生命值，确保生命条的段，是满状态显示的。

![](media/image59.png){width="3.69198709536308in"
height="2.8252449693788275in"}

进行测试的时候，你会发现，boss生命条在战斗中，看起来短了许多。另外，框的坐标没有完全居中。

![](media/image60.png){width="5.768055555555556in"
height="2.995138888888889in"}

### 6.细节调整

通过在boss设置中，调整boss固定框的位置，顺带把boss头像加上。

![](media/image61.png){width="3.2in" height="2.01373031496063in"}

可以看到，框相对来说居中了。（boss框的锚点在左上角，不是中心）

![](media/image62.png){width="5.768055555555556in"
height="0.9652777777777778in"}

### 7.收尾部分

功能已经完成了大半，还剩下 名字、震动效果、状态 等杂项。这些项都可以通过
[PS对坐标点](#PS对坐标点) 的方式对应。

![](media/image63.png){width="3.425in" height="1.6248840769903763in"}

另外，参数中目前只设计了1段的资源，这里可以进行扩充，变成8段。

![](media/image64.png){width="2.225in" height="1.1513418635170605in"}
![](media/image65.png){width="2.8835826771653545in"
height="1.016755249343832in"}
