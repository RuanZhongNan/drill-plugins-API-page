## 概述

### 基础插件

如果要从零开始设计 脉冲开关 游戏，需要下图的插件：

![](./MediaFolder/media/image1.png){width="5.768055555555556in"
height="2.004166666666667in"}

**注意，该文档只详细说明 整体设计思路 和 解谜方法 。**

**对于具体 事件如何写 ，需要去看看："关于开关大家族.docx"**

### 基础配置

具体注意示例下面的地方：

**1）独立开关**

游戏流程中，重置关卡 的事件，会手动批量控制其他事件的独立开关。

这种操作是永久有效并且能被保存到存档中的，刷地图不会改变。

![](./MediaFolder/media/image2.png){width="4.858333333333333in"
height="0.9680391513560805in"}

**2）地图事件**

所有与该解谜相关的事件 ，都在地图"设计-脉冲开关"中。

这里主要需留意三类事件：

脚踏板（传感器，重力开关插件 控制）

门（触发器，计数开关插件 控制）

重置关卡（重置中操作 当前关卡 所有脚踏板的 事件id ）

三类事件共同构成一个解谜流程。

![](./MediaFolder/media/image3.png){width="3.115609142607174in"
height="1.6583333333333334in"}

**3）地形设计**

地形一般都是 一个入口一个出口，不存在多个入口出口。

（入口和出口过多，会明显降低难度）

![](./MediaFolder/media/image4.png){width="2.89874343832021in"
height="1.6416666666666666in"}

## 脉冲开关-谜题设计

### 设计简介

**1）游戏规则**

必须点亮所有亮片，门才会开。

蓝色的亮片可以反复踩，绿色的亮片只能踩一次。

玩家在游戏中可以意会到游戏规则，可以不作详细的规则说明。

**2）难度分配**

玩家起始的入口/出口 能影响关卡解法。

反复踩/只能踩一次 能影响关卡难度。

没有亮片的图块，是干扰玩家判断的一个因素。

**3）禁用能力**

禁跳跃。

禁炸弹。

**4）卡关注意事项**

这里使用了"控件 - 按钮窗口管理器"并连接到了公共事件"开关卡关"。

玩家可以在菜单界面瞬间传回地图的开始点。

![](./MediaFolder/media/image5.png){width="3.2583333333333333in"
height="0.9583333333333334in"}

并且，游戏提供"重置关卡"事件，在关卡失败后，即可重来。

### 基础规律

脉冲开关看起来非常复杂，但是，无论关卡怎么变，都离不开数学与图论的规律。

该关卡很容易设计出无解谜题，把自己绕晕，必须基于一些理论来站稳脚根。

脉冲关卡中有下列定义：

**奇开关：**踩1次 能点亮的开关。

蓝色可以踩1、3、5、7......无穷次。只要不是绿色亮片，就与踩1次的效果没有区别。

![](./MediaFolder/media/image6.png){width="2.2418613298337706in"
height="1.016755249343832in"}

**偶开关：**踩0次或2次 能点亮的开关。

蓝色可以踩0、2、4、6......无穷次。与踩0次没有区别。

![](./MediaFolder/media/image7.png){width="1.3667847769028871in"
height="1.050090769903762in"}

**奇数位置/偶数位置：**下面需要从起点开始进行编号计数，这里的编号为数字分为
奇数 和 偶数 。编号的 奇偶 决定了开关的在复合条件下的点亮结果。

![](./MediaFolder/media/image8.png){width="3.3583333333333334in"
height="1.7956047681539808in"}

### 单路线点亮

这里，开始分析 奇偶维度 上的设计，下面来看看组合的情况：

**1）奇开关\*3 = 奇数位置** 情况

如下图，三个奇开关，因为点亮次数是奇数次，奇数+奇数+奇数 =
奇数，所以全部点亮结果是奇数位置。

![](./MediaFolder/media/image8.png){width="2.8333333333333335in"
height="1.5149015748031496in"}

根据计算得出，如果只踩在这3块开关上（灰色地面进入后不再踩），想要全部点亮开关，你只能处在
奇数位置(1,3)。无论怎么变，在 偶数位置(2)，一定会有一个开关灭。

![](./MediaFolder/media/image9.png){width="2.287386264216973in"
height="1.5166360454943133in"}
![](./MediaFolder/media/image10.png){width="2.691666666666667in"
height="1.5328280839895012in"}

![](./MediaFolder/media/image11.png){width="2.566666666666667in"
height="1.4990660542432197in"}
![](./MediaFolder/media/image12.png){width="2.15461176727909in"
height="1.4951388888888888in"}

**2）奇开关\*2+偶开关\*1 = 偶数位置** 情况

这次点亮第二个亮片，一共有两个奇开关，一个偶开关，以此类推。

![](./MediaFolder/media/image13.png){width="2.308333333333333in"
height="1.382315179352581in"}

如果只踩在这3块开关上（灰色地面进入后不再踩），想要全部点亮开关，你只能处在
偶数位置(2)。无论怎么变，在 奇数位置(1,3)，一定会有一个开关灭。

![](./MediaFolder/media/image14.png){width="2.1083333333333334in"
height="1.3408048993875765in"}
![](./MediaFolder/media/image15.png){width="2.269534120734908in"
height="1.3506944444444444in"}

![](./MediaFolder/media/image16.png){width="2.2in"
height="1.4795002187226596in"}

**3）奇开关\*3+偶开关\*1 = 奇数位置** 情况

接下来推导4个开关的情况，根据计算得出，只踩在4块开关上（灰色地面进入后不再踩），点亮全部开关，必须站在
奇数位置（1,3）上，偶数位置（2,4）点亮永远无解。

![](./MediaFolder/media/image17.png){width="3.9166666666666665in"
height="1.850242782152231in"}

![](./MediaFolder/media/image18.png){width="2.53784230096238in"
height="1.5638888888888889in"}
![](./MediaFolder/media/image19.png){width="2.4833333333333334in"
height="1.5416021434820648in"}

![](./MediaFolder/media/image20.png){width="2.6333333333333333in"
height="1.4358223972003499in"}
![](./MediaFolder/media/image21.png){width="2.441666666666667in"
height="1.415232939632546in"}

**5）奇开关\*3+偶开关\*2 = 奇数位置** 情况

改变一下形状，性质也是一样的，只踩在5块开关上（灰色地面进入后不再踩），点亮全部开关，必须站在
奇数位置（1,3,5）上，偶数位置（2,4）点亮永远无解。

![](./MediaFolder/media/image22.png){width="3.558333333333333in"
height="1.984831583552056in"}

![](./MediaFolder/media/image23.png){width="1.864494750656168in"
height="1.1805555555555556in"}
![](./MediaFolder/media/image24.png){width="1.875in"
height="1.1790387139107612in"}
![](./MediaFolder/media/image25.png){width="1.8in"
height="1.1144860017497813in"}

只能在 奇数(1,3,5) 上全亮，偶开关一定会漏一个。

![](./MediaFolder/media/image26.png){width="2.2in"
height="1.379248687664042in"}

**6）单路线设计应用**

前面介绍了那么多点亮关系，那么你不妨自己试试下面的情况。

（绿色开关用于限制出入口）

**下图是 有解 的。**

![](./MediaFolder/media/image27.png){width="2.7916666666666665in"
height="1.436357174103237in"}

**下图是 无解 的。**

（不管你从那里进，都无解）

![](./MediaFolder/media/image28.png){width="2.683333333333333in"
height="1.6205402449693789in"}

**下图是 无解 的。**

![](./MediaFolder/media/image29.png){width="2.8in"
height="1.563520341207349in"}

**下图是 有解 的。**

![](./MediaFolder/media/image30.png){width="3.2416666666666667in"
height="1.5620713035870517in"}

### 多路线点亮

接下来是起点不一样的情况。

**1）起点分支**

下图，起点从中间开始，这就意味着，左右分隔成了两条线。你需要分段开始判断数字。

判断原理依然一样， **奇开关+奇开关+奇开关+奇开关 = 偶数位置** 情况，

只能在 偶数位置(2) 处全亮， 奇数位置(1,3)一定会漏一个。

![](./MediaFolder/media/image31.png){width="2.975in"
height="1.7908912948381452in"}

![](./MediaFolder/media/image32.png){width="2.3695100612423445in"
height="1.3715277777777777in"}
![](./MediaFolder/media/image33.png){width="2.9031977252843393in"
height="1.4208333333333334in"}

![](./MediaFolder/media/image34.png){width="2.526978346456693in"
height="1.333218503937008in"}
![](./MediaFolder/media/image35.png){width="2.4583333333333335in"
height="1.335178258967629in"}

**2）中途分支**

中途分支和起点分支一样，通过公式判断：

**奇开关\*4 = 偶数位置**， 偶数位置(2) 处可全亮。

![](./MediaFolder/media/image36.png){width="3.084466316710411in"
height="1.8833333333333333in"}

**3）合并分支**

如果出现了两个分支的合并，编号的 奇偶 并不冲突：

**奇开关\*8 = 偶数位置，**偶数位置(2,4)处全亮，其它的总会缺一个。

![](./MediaFolder/media/image37.png){width="3.2293558617672793in"
height="2.1166666666666667in"}

**4）多重合并分支**

更多的合并分支可以合在一起：

**奇开关\*6+偶开关\*2 = 偶数位置**

偶数位置(2,4)处全亮，其它的总会缺一个。

![](./MediaFolder/media/image38.png){width="3.058333333333333in"
height="1.962055993000875in"}

**5）多路线设计应用**

根据上述的情况，如果你的设计中布满了开关，要全部点亮，一定会有
位置奇数偶数
错开的情况，错开的就是永远无解情况，你需要注意你的终点位置。

下面你不妨自己试试下面的情况。

（绿色开关用于限制出入口）

**下图是 无解 的。**

（你可以分别从两个入口开始计数 并计算 奇数位置/偶数位置）

![](./MediaFolder/media/image39.png){width="2.72459208223972in"
height="1.8in"}

**下图是 有解 的。**

![](./MediaFolder/media/image40.png){width="2.716666666666667in"
height="1.8721073928258967in"}

**下图是 有解 的。**

（其实这里有一个规律，如果 你去掉一个亮片 或者
把一个蓝色亮片点亮，有解就会变成无解）

![](./MediaFolder/media/image41.png){width="2.65in"
height="1.8408727034120735in"}

### 设计建议

**1）设计细节**

脉冲开关，有可能设计出无解的关卡，具体你需要了解 [基础规律](#基础规律)
。

**2）关卡安排建议**

如果你需要在你的游戏中添加该解谜类型，

这些关卡可以被切分成许多小的迷宫解谜，难度最大到第五关，作为
支线或主线谜题 。

第六关的设计误导程度太高，所以最多作为 小支线或奖励成就 即可。

此解谜游戏的设计建议最多出现三次，关卡多了会降低游戏性。

## 脉冲开关-谜题解法

### 贴墙法

在**只有奇开关**里，只要你找到了最快捷的方法贴墙，那么无论开关如何复杂，都会迎刃而解。（即使变起点，也不能增加多少难度）

![](./MediaFolder/media/image42.png){width="3.7310925196850393in"
height="2.0865551181102364in"}

![](./MediaFolder/media/image43.png){width="3.7305555555555556in"
height="2.1971916010498687in"}

玩家经过摸索，迟早会渐渐掌握贴墙法，若要想进一步增加难度，应该在**偶开关**维度上增加。

+-----------------------------------------------------------------------+
| 增加难度的维度也有很多其他方法，我见过的有下面几个：                  |
|                                                                       |
| 1.限制一个图块只能单向走。                                            |
|                                                                       |
| 2.一个图块是钥匙，踩了才可以解锁另一个图块路线。                      |
|                                                                       |
| 3.有的开关踩了后，会传送到另一个开关。                                |
|                                                                       |
| (´⊙ω⊙\`) 个人认为，这些维度只会把路线变得越来越复杂，并不能增加难度。 |
+=======================================================================+
+-----------------------------------------------------------------------+

### 第六关的误导原理

脉冲开关的误导比较难做，你必须基于理论，不然你自己会被绕进去。╭(°A°\`)╮

很多时候画出了无解的方法，以为是误导，结果......把自己绕晕了。

脉冲开关由于自己的数学特性，造就了两个极端，一个是永远无解，一个永远有解。

**误导，就是想办法把玩家绕进无解的深渊**。

根据之前的奇开关偶开关理论：

从中间进，是2,1,2，奇开关+偶开关+奇开关 = 偶数位置。

偶数永远有解，奇数永远无解，但是终点恰好是在 奇数(1) 位置。

从下面进，是1,2,3，奇开关+偶开关+奇开关 = 偶数位置。

偶数永远有解，奇数永远无解，这次的终点恰好是在 偶数(2) 位置。

![](./MediaFolder/media/image44.png){width="2.8571423884514435in"
height="1.9594061679790027in"}

第六关的误导图示如下图。（具体解谜方法就不赘述了，自己试试看吧！）

![](./MediaFolder/media/image45.png){width="4.882353455818023in"
height="2.173336614173228in"}
