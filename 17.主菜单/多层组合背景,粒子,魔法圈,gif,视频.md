## 概述

### 插件介绍

该部分为一个比较复杂的整体系统，内容相互交织，需要反复阅读。

插件有很多，分为下面两大类：

[界面装饰插件](#界面装饰插件)

[对象装饰插件](#对象装饰插件)

你可以直接按照示例，熟悉插件基本配置。

[快速上手配置一个菜单面板的场景](#快速上手配置一个菜单面板的场景)

[设计一张地图的远景](#设计一张地图的远景)

[使用平铺GIF模拟转场动画](#使用平铺gif模拟转场动画)

[设计一场战斗的场景效果](#设计一场战斗的场景效果)

[]{#界面装饰插件
.anchor}**界面装饰插件**：用于装饰游戏中界面的插件集合，其中多层菜单插件可以通过
界面关键字 关联到所有指定的菜单界面并生效。

+------+--------------+---------------+--------------+---------------+
|      | 菜单界面     |               | 地图界面     | 战斗界面      |
+======+==============+===============+==============+===============+
| 装饰 | 标题界面     | 菜单          | 地图界面     | 战斗界面      |
| 对象 |              |               |              |               |
+------+--------------+---------------+--------------+---------------+
| 背景 | Drill_Tit    | Drill_M       | Drill        | Drill_Bat     |
|      | leBackground | enuBackground | _LayerGround | tleBackground |
|      |              |               |              |               |
|      | 多层标题背景 | 多层菜单背景  | 多层地图背景 | 多层战斗背景  |
+------+--------------+---------------+--------------+---------------+
| 粒子 | Drill_Ti     | Drill_        | MO           | M             |
|      | tleParticles | MenuParticles | G_Weather_EX | OG_Weather_EX |
|      |              |               |              |               |
|      | 多层标题粒子 | 多层菜单粒子  | 多层天气效果 | 多层天气效果  |
+------+--------------+---------------+--------------+---------------+
| 魔   | Drill        | Dri           | Drill        | Drill         |
| 法圈 | _TitleCircle | ll_MenuCircle | _LayerCircle | _BattleCircle |
|      |              |               |              |               |
|      | 多           | 多            | 多           | 多            |
|      | 层标题魔法圈 | 层菜单魔法圈  | 层地图魔法圈 | 层战斗魔法圈  |
+------+--------------+---------------+--------------+---------------+
| GIF  | Dr           | Drill_MenuGIF | Dr           | Dr            |
|      | ill_TitleGIF |               | ill_LayerGif | ill_BattleGIF |
|      |              | 多层菜单GIF   |              |               |
|      | 多层标题GIF  |               | 多层地图GIF  | 多层战斗GIF   |
+------+--------------+---------------+--------------+---------------+
| 平铺 | Drill_T      | Drill         | Drill_L      | Drill_B       |
| GIF  | itleTiledGif | _MenuTiledGif | ayerTiledGif | attleTiledGif |
|      |              |               |              |               |
|      | 多层         | 多            | 多层         | 多            |
|      | 标题平铺GIF  | 层菜单平铺GIF | 地图平铺GIF  | 层战斗平铺GIF |
+------+--------------+---------------+--------------+---------------+
| 视频 | Dril         | Dr            | 无           | Dril          |
|      | l_TitleVideo | ill_MenuVideo |              | l_BattleVideo |
|      |              |               | (用处最低    |               |
|      | 多层标题视频 | 多层菜单视频  | ，还会卡顿)  | 多层战斗视频  |
+------+--------------+---------------+--------------+---------------+
| 特殊 | 无           | Drill_M       | 无           | 无            |
|      |              | enuBackButton |              |               |
|      |              |               |              |               |
|      |              | 返回按钮      |              |               |
+------+--------------+---------------+--------------+---------------+

[]{#对象装饰插件
.anchor}**对象装饰插件**：用于装饰游戏中具体对象的插件集合，通过
插件指令/事件注释 等对指定的贴图对象进行装饰。

+-----------+-------------+--------------+-------------+-------------+
|           | 单          |              |             |             |
|           | 个贴图对象  |              |             |             |
|           | （非界面）  |              |             |             |
+===========+=============+==============+=============+=============+
| 装饰对象  | 动画        | 事件         | 图片        | 敌人        |
+-----------+-------------+--------------+-------------+-------------+
| ~~背景~~  | 无          | 无           | 无          | 无          |
|           | (由于是单   | (由于是      | (由于是单   | (由于是单   |
| ~~        | 个独立对象  | 单个独立对象 | 个独立对象  | 个独立对象  |
| 平铺GIF~~ | ，不可装饰) | ，不可装饰)  | ，不可装饰) | ，不可装饰) |
|           |             |              |             |             |
| ~~视频~~  |             |              |             |             |
+-----------+-------------+--------------+-------------+-------------+
| 粒子      | Dr          | MOG_C        | 暂无        | MOG         |
|           | ill_Animati | harParticles |             | _AuraEffect |
|           | onParticles |              |             |             |
|           |             | mog事件粒子  |             | mog粒子效果 |
|           | 多          |              |             |             |
|           | 层动画粒子  |              |             |             |
+-----------+-------------+--------------+-------------+-------------+
| 魔法圈    | Drill_Anim  | 暂无         | 暂无        | 暂无        |
|           | ationCircle |              |             |             |
|           |             |              |             |             |
|           | 多层        |              |             |             |
|           | 动画魔法圈  |              |             |             |
+-----------+-------------+--------------+-------------+-------------+
| gif       | Drill_A     | 暂无         | 暂无        | 暂无        |
|           | nimationGIF |              |             |             |
|           |             |              |             |             |
|           | 多层动画GIF |              |             |             |
+-----------+-------------+--------------+-------------+-------------+
| 特殊      | 无          | 暂无         | 暂无        | 暂无        |
+-----------+-------------+--------------+-------------+-------------+

（如果你会用live2d、spine等美术软件制作多张的gif帧动画，那么多层gif插件将会极大地增强你的游戏画面效果。）

### 思维导图

![](./MediaFolder/media/image2.emf)

### 组合效果解析

![](./MediaFolder/media/image3.png){width="4.634782370953631in"
height="3.5342443132108485in"}

**菜单界面的部分组合**

（红色为菜单魔法圈，紫色为菜单粒子，黄色为菜单背景，还包括背后的默认菜单背景）

![](./MediaFolder/media/image4.jpeg)

**战斗界面的部分组合**

（战斗中组合最多的一般都是战斗背景，因为战斗场景最需要体现的是空间感）

![](./MediaFolder/media/image5.jpeg)

**标题界面的部分组合**

（标题是玩家对游戏的第一印象，一个精致的主题面板就足够了，如果是多结局，可以使用多种主题）

![](./MediaFolder/media/image6.png){width="5.691666666666666in"
height="3.307004593175853in"}

**地图界面的部分组合**

（地图界面对位移比的控制要求较高，如果只是单纯的背景贴图，事件可以直接做）

![](./MediaFolder/media/image7.png){width="2.3541666666666665in"
height="2.2693318022747158in"}![](./MediaFolder/media/image8.png){width="2.709540682414698in"
height="2.24375in"}

**动画的部分组合**

（动画对时间的要求比较苛刻，你需要处理好延迟、出现、持续、消失的时间）

## 基本属性

### 游戏分辨率

rmmv的固定游戏大小是816\*624像素，你可以对进行缩放或者全屏。

但是，**简单缩放并不增加分辨率**，如果把窗口拉伸，拉伸至全屏，图像会变模糊，因为图片的内容还是原来的816\*624。

举个例子，打开yep核心引擎，设置屏幕宽度为916，然后设置战斗背景重置（改变分辨率）。

![](./MediaFolder/media/image9.png){width="4.258333333333334in"
height="1.6371686351706036in"}

于是可以看到下面的窗口被拓宽了100像素的距离。注意，**要确保
战斗-战斗活动镜头 的 镜头架 的宽高要比窗口的大**。

![](./MediaFolder/media/image10.png){width="4.191666666666666in"
height="2.740592738407699in"}

由图可知，如果你修改了游戏的分辨率，那么原来规划的816\*624的所有窗口布局，包括画面镜头ui的位置，**全部要进行修正**。（只有部分ui会根据比例自适应）包括将整体布局的图片更换成916\*624大小，以及修改贴图、窗口等所有的x位置配置。

### 标签

由于你需要配置大量背景内容到相应的插件中，你不能一次性看见全部内容，这里用标签来进行区分。**标签不作用在插件中，只是在配置的时候方便查看**。

![](./MediaFolder/media/image11.png){width="4.092020997375328in"
height="2.8419127296587927in"}

如果标签名长了，你可以拖拽下面两个竖线，把值拉开查看。

![](./MediaFolder/media/image12.png){width="4.242034120734908in"
height="1.1834361329833771in"}

### 配置难度

相关插件类型配置要注意的地方如下：

  --------------------------------------------------------------------------
                 配置、功能的区别                                 复杂度
  -------------- ------------------------------------------------ ----------
  标题界面       直接配置 + 全局存储                              ★★

  菜单           直接配置                                         ★

  地图界面       直接配置 + 位移比调配                            ★

  战斗界面       插件指令配置 + 插件指令实时变化配置              ★★★

  动画（地图）   直接配置 + 时间配置                              ★★

  动画（战斗）   直接配置 + 时间配置 + 绑定动画 + 绑定技能/状态   ★★★
  --------------------------------------------------------------------------

### 层级

#### 菜单/标题层级

标题只是菜单的一个分支，属于菜单界面。

**菜单界面分为两层，菜单前面层 和 菜单后面层。**

**底图是菜单层级的底层核心，上述插件只支持未修改底图的菜单**。有些菜单插件拥有设置菜单自己背景的功能，他们或多或少地会修改对底图的设置，菜单插件就可能不支持修改了底图的菜单了。

![](./MediaFolder/media/image13.jpeg){width="5.768055555555556in"
height="2.390277777777778in"}

**底图**：rmmv默认的底图，就是进入菜单前的地图。你也可以设置层全黑。

**菜单功能部件**：菜单的窗口等所有内容信息的层，如果你使用的菜单插件没有修改底图，那么菜单插件所有的内容都属于这个层，不会越界。（比如全自定义主菜单自带的一个魔法圈，是属于菜单功能部件的。）

**图片层级：**如果你配置了许多背景、魔法圈在
菜单前面层，图片层级就用来给这些背景、魔法圈分配显示的先后顺序。

#### 战斗层级

**战斗界面分为四层，下层、上层、图片层、最顶层。**

由于rmmv自身硬性的关系，对话框、图片、敌人、背景都是不可分割的大层次，并且，对话框一定在图片上面。因此如果你想让图片被放在对话框上面，只能通过其他插件来辅助。

部分插件的图片可能会直接被固定在界面的某个层中，比如视频背景，是固定在下层，并且图片层级为0。

![F:\\rpg
mv箱\\战斗层级.jpg](./MediaFolder/media/image14.jpeg){width="5.768055555555556in"
height="4.909466316710411in"}

如果你不想要rmmv背景，可以直接在下层设置完全不透明的背景，挡住就可以了。

**\
**

#### 地图层级

**地图界面分为五层，下层、中层、上层、图片层、最顶层。**

由于rmmv自身硬性的关系，对话框一定在图片上面。因此如果你想让图片被放在对话框上面，只能通过其他插件来辅助。

![F:\\rpg
mv箱\\地图层级.jpg](./MediaFolder/media/image15.jpeg){width="5.458333333333333in"
height="5.8413101487314085in"}

**如果要让远景看起来真的像"远景"，那么应该设置位移比接近1.00的图层，越接近1.00越远。**可以参考火车上，看太阳、房屋、树木，你移动后，树木位移比0.0，瞬间被抛到脑后；房屋0.5左右，没有完全跟着你；太阳几乎为1.00，你在哪里太阳都不为所动，这就是位移比的效果。

**需要注意的是，rmmv远景和镜头位移比固定是0.00，所以rmmv的远景每次调整都感觉不对，你需要换掉适合的含位移比的图层。**

#### 动画层级

**动画层级比较特殊，它释放在目标身上，则属于目标所属的层。**

在战斗界面中，敌人的动画在敌人层，玩家的动画在ui层。

在地图界面中，事件/玩家的动画在事件层。

因此，动画的具体层根据具体情况而变。

**动画从变化层上来看，分为 动画前面层、动画后面层 和 图片后面层。**

图片后面层 用于表示敌人/事件/玩家贴图的后面。

### 图片层级

**你可以自由设置图片层级的数值，数值最大的将在最上面，数值最小的将在最底部。数值如果相同，那么将根据配置的先后顺序来确定。**

背景层级默认0，

魔法圈层级默认4，

粒子魔法圈默认8。

（注意不要把背景层级设置太高，把魔法圈和粒子都挡住了。）

如图，图中加入了4个魔法圈，3层背景，以及3种粒子。![](./MediaFolder/media/image3.png){width="5.395159667541558in"
height="4.114069335083115in"}

魔法圈之间不存在之间必要的遮挡关系，所以层级都不变。

黄圈的背景，就有必要设置一下层级，用于区别与背景遮挡的图层。

### 遮罩

遮罩的功能比较有限，它能够使得图片具有一定的相减效果：

（白色为显示部分，黑色为隐藏部分，灰色为对应透明度的半透明状态）

![](./MediaFolder/media/image16.png){width="2.6458333333333335in"
height="1.8345002187226596in"}
![](./MediaFolder/media/image17.png){width="2.629166666666667in"
height="1.8229440069991252in"}

![](./MediaFolder/media/image18.png){width="3.658333333333333in"
height="2.758944663167104in"}

背景和遮罩组合后，可以变成切割后的背景，并且背景移动时，遮罩不会发生变化。

具体可以去菜单管理层看看 空面板 的示例。

## 特殊属性

### 背景 - 平铺效果

注意，这里所有的背景插件，**都是固定的平铺背景效果，而不是单独的一张图片**。

（如果你想用单独的背景，可以用不旋转的魔法圈代替）

![](./MediaFolder/media/image19.png){width="1.2251060804899387in"
height="1.3501170166229222in"}
![](./MediaFolder/media/image20.png){width="3.8833333333333333in"
height="2.54244750656168in"}

### 魔法圈 - 3d效果

正常图片的旋转是做不到下面的类似3d的旋转效果的，这里注意一下：

普通的旋转效果如下：

![F:\\rpg
mv箱\\mog插件中文全翻译(Drill_up)v1.41\\mog插件示例(mv1.6版本)\\img\\menus\\魔法圈-标题aa.png](./MediaFolder/media/image21.png){width="3.191666666666667in"
height="1.5958333333333334in"}

这里设置缩放比例x 1.0 y 0.5 ：

![F:\\rpg
mv箱\\mog插件中文全翻译(Drill_up)v1.41\\mog插件示例(mv1.6版本)\\img\\menus\\魔法圈-标题aba.png](./MediaFolder/media/image22.png){width="3.15in"
height="1.575in"}

这里设置斜切比例x 0.0 y 1.0 ：（可以为负数，向反方向斜切）

![F:\\rpg
mv箱\\mog插件中文全翻译(Drill_up)v1.41\\mog插件示例(mv1.6版本)\\img\\menus\\魔法圈-标题abva.png](./MediaFolder/media/image23.png){width="3.15in"
height="1.3815791776027997in"}

当然，图片终究是一张图片，是2d的，不能做出像3d那样有遮挡，有厚度的旋转。只能做出看起来像3d的效果。

### GIF - 3d效果

多层GIF插件，相当于在拥有 多层魔法圈插件
全部功能的基础上，额外具备了GIF播放的功能。

![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\XGIT57C9)0D8A8M{3((PZ\]F.png](./MediaFolder/media/image24.png){width="4.239583333333333in"
height="1.5733562992125985in"}

同时设置两处斜切，可以将GIF像两个方向的平行四边形延伸。

（斜切可为负数，表示反方向延伸。）

![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\DV5MNUALH@\@{EXUN(KVQS1L.png](./MediaFolder/media/image25.png){width="2.8975in"
height="1.5833333333333333in"}
![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\{V{}\_TC8(HXWDU(ISW}PWFQ.png](./MediaFolder/media/image26.png){width="2.4920538057742783in"
height="1.579928915135608in"}

### 平铺GIF - 平铺效果

多层平铺GIF插件，相当于在拥有多层背景插件全部功能的基础上，额外具备了GIF播放的功能。

![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\6R%VY7(EN4)RT8444DSZ}WF.png](./MediaFolder/media/image27.png){width="3.893041338582677in"
height="1.5208333333333333in"}

在Map_layer_gif文件夹中，配置一个平铺用的GIF（图中示意的是正方形变大的GIF）

![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\{74MT7)1FV3G3J(56X\[HIT8.png](./MediaFolder/media/image28.png){width="3.875in"
height="2.4189391951006125in"}

可以看到，平铺的GIF在不停地变换。

（这类平铺GIF常放到 最顶层
用于场景切换，不过单独做成变化背景也是可以的。）

![C:\\Users\\Administrator\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\WUUA\@C_DZ34F)LRO\$E\[TYE7.png](./MediaFolder/media/image29.png){width="3.8125in"
height="2.5397550306211722in"}

### 视频 - 素材

视频的展现效果是最高级的。素材也是最难找到的。

（感觉自己制作视频的可能性为0。╭(°A°\`)╮）

推荐的免费可商用的网址：<https://pixabay.com/>（要翻墙）

除了视频，Pixabay
也提供数量众多的矢量图、插画、照片等无版权素材，均可免注册直接下载。

![C:\\Users\\lenovo\\AppData\\Roaming\\Tencent\\Users\\1355126171\\QQ\\WinTemp\\RichOle\\85(NF5S7)QW1RSUV\$I1XY%C.png](./MediaFolder/media/image30.png){width="5.843780621172353in"
height="2.3350306211723533in"}

示例中使用的视频，是可以免费商用的。

你也可以去找其他的视频资源，作为你的标题画面。

下载的格式是mp4格式，你需要用工具（比如格式工厂）转成webm格式。

### 菜单界面

菜单界面的结构如下：

![](./MediaFolder/media/image31.emf)

一个没有任何功能部件的**空菜单**界面，也可以被上述的菜单插件装饰：

![](./MediaFolder/media/image32.emf)

装饰方法需要对应到相关的菜单界面关键字，具体内容去看看"菜单关键字.docx"。

### 菜单界面 - 返回按钮

Drill_MenuBackButton 主菜单 - 返回按钮

返回按钮是只属于主菜单插件的特殊功能插件。

**返回按钮有三个状态：普通、高亮、按下**。

![](./MediaFolder/media/image33.png){width="1.675145450568679in"
height="0.6583902012248469in"}
![](./MediaFolder/media/image34.png){width="1.591804461942257in"
height="0.6167202537182852in"}
![](./MediaFolder/media/image35.png){width="1.5334667541557305in"
height="0.6667246281714786in"}

设置原理与前面设置 菜单gif 的性质是一样的。

普通状态可以是一张图，也可以是多张图组合成的gif。

高亮与按下状态则是一张配置图片。

### 地图界面 - 中层

以多层地图背景为例。

如果你设置了背景在 中层 ，你会发现背景可能会切割图块画的树木。

这是因为树木图块上方能够挡住事件，而下方被事件遮挡。根据图层的先后关系，背景的切割树木现象是正常情况。

![](./MediaFolder/media/image36.png){width="2.8333333333333335in"
height="1.7700371828521435in"}

![](./MediaFolder/media/image37.jpeg){width="2.6491786964129482in"
height="2.0234919072615924in"}
![](./MediaFolder/media/image38.png){width="2.7666666666666666in"
height="2.0097069116360453in"}

![](./MediaFolder/media/image39.png){width="1.8168241469816273in"
height="1.0667596237970254in"}

### 地图界面 - 位移比

位移比是 战斗背景、魔法圈等 与 活动镜头 共同作用的效果。

根据近大远小的关系，物体离你越远，物体越小，并且你移动画面时，也一直紧跟着你的镜头。位移比越接近1，物体越远。

**1）位移比0.0时：**

蓝色的圈为其中一个背景，镜头 向右 移动时，背景不会跟随镜头移动。

![](./MediaFolder/media/image40.png){width="2.1597222222222223in"
height="1.8618285214348207in"}
![](./MediaFolder/media/image41.png){width="2.175in" height="1.875in"}

**2）位移比1.0时：**

蓝色的圈为其中一个背景，镜头 向右 移动时，背景跟随镜头同步移动。

![](./MediaFolder/media/image40.png){width="2.136334208223972in"
height="1.8416666666666666in"}
![](./MediaFolder/media/image42.png){width="2.161722440944882in"
height="1.8635520559930008in"}

**3）位移比小于1.0,但是接近1.0时：**

比如0.70、0.80、0.90等位移比，镜头 向右 移动时，

蓝圈会跟随镜头 向右 移动，但是位移速度慢于镜头。

![](./MediaFolder/media/image40.png){width="2.1597222222222223in"
height="1.8618285214348207in"}
![](./MediaFolder/media/image43.png){width="2.158333333333333in"
height="1.8606332020997376in"}

**4）位移比大于1.0,但是接近1.0时：**

比如1.10、1.20、1.30等位移比，镜头 向右 移动时，

**蓝圈会朝反方向（向左）移动**，位移速度慢于镜头。

（与0.90、0.80、0.70距离一样，只是方向反了）

![](./MediaFolder/media/image40.png){width="2.1597222222222223in"
height="1.8618285214348207in"}
![](./MediaFolder/media/image44.png){width="2.15in"
height="1.8534481627296588in"}

**5）对话管理层的参考点问题：**

如何设置位移比是个问题，首先要模拟一下情景关系。

![](./MediaFolder/media/image45.png){width="2.566666666666667in"
height="2.2126432633420823in"}
![](./MediaFolder/media/image46.png){width="2.5326662292213475in"
height="2.183333333333333in"}

经过情景会发现，

1.圆圈一开始所在的位置，都是固定的图块偏移位置。

2.圆圈从三维角度上，距离玩家非常远。（所以位移比要接近1）

3.接近圆圈，圆圈就会接近自己，远离圆圈，圆圈就会远离自己。

也就是说，镜头移动的方向 与 圆圈的移动方向是 **相反的**。

所以，位移比取值在 大于1.0且 接近1.0 的范围。

眼睛：会了，脑子：这很简单，手：你俩胡说！

作者我在这里模拟情景的时候被绕晕了很久，你一定要自己动手试试才能明白哦。

### 战斗界面 - 位移比

战斗界面的位移比同理，见 [地图界面 - 位移比](#地图界面---位移比) 。

由于战斗界面的镜头移动幅度明显小的多，所以在位移比为0.9、0.8之间时，几乎看不出层次效果。

你可以加宽位移比的变化范围，比如0.25，0.5，0.75这种跨度，不同背景之间有一定距离的位移，就能产生层次感了。

## 配置示例

### 快速上手配置一个菜单面板的场景

#### 配置流程

该流程用到了 主菜单-多层菜单背景 插件。

1）首先，新建一个工程

![](./MediaFolder/media/image47.png){width="0.8916666666666667in"
height="0.8183770778652668in"}

2）复制插件文件到工程

![](./MediaFolder/media/image48.png){width="4.732030839895013in"
height="0.9166666666666666in"}

3）复制插件资源文件夹

![](./MediaFolder/media/image49.png){width="2.6in"
height="0.7718755468066492in"}

4）测试工程

这里你可以看到，所有菜单面板都被装上了默认的背景。

菜单背景会自动检查面板，如果面板没有配置的背景，则自动使用 默认背景
配置。

![](./MediaFolder/media/image50.png){width="4.0690102799650045in"
height="3.1166666666666667in"}

5）配置一个特定的背景

选择一个背景，设置菜单为： 道具界面，

配一个 黑白网格 图片资源，再加上 限量商店 的遮罩资源。

![](./MediaFolder/media/image51.png){width="3.808333333333333in"
height="2.067584208223972in"}

把底图设置开了。（默认底图是false，表示全黑）

![](./MediaFolder/media/image52.png){width="3.9583333333333335in"
height="1.1629418197725285in"}

6）测试道具界面

进入游戏，打开道具界面。

可以看到，背景+遮罩 = 相减的图层。

另外，底图展现的是 经过模糊的地图截图 。

![](./MediaFolder/media/image53.png){width="3.937810586176728in"
height="2.9583333333333335in"}

一个简单的菜单面板的背景教程配置到这里就结束了。

你可以调整参数、替换资源图片实现你自定义的菜单背景。
粒子、魔法圈、GIF、平铺GIF 都是用同样的方式配置。

相关参数知识点：

\- 菜单的图片层级可以去看看章节：[菜单/标题层级](#菜单标题层级) 。

![](./MediaFolder/media/image54.png){width="3.075in"
height="1.0493318022747156in"}

\- "所属菜单" \> "自定义关键字"
的配置可以去看看文档："关于菜单关键字.docx"

![](./MediaFolder/media/image55.png){width="2.8833333333333333in"
height="0.644646762904637in"}

#### 示例中可参考对象

1）菜单面板背景相关插件可以直接装饰一个空面板，并且可以通过插件指令开关背景。

可以去看看示例中 菜单管理层 的 "空面板" 和 "菜单背景" 事件。

![](./MediaFolder/media/image56.png){width="3.0166666666666666in"
height="1.1209470691163606in"}![](./MediaFolder/media/image57.png){width="2.5166666666666666in"
height="1.504407261592301in"}

2）由于菜单背景等装饰插件，最终都是装饰指定的面板，所以你可以去看看文档"关于全自定义信息面板.docx"
的面板从零开始的教程。

制作出一块自定义面板后，你就自然熟悉了背景、粒子等装饰插件与面板的具体关系了。

![](./MediaFolder/media/image58.png){width="3.7179286964129483in"
height="0.5708333333333333in"}

![](./MediaFolder/media/image59.png){width="3.6958333333333333in"
height="2.417465004374453in"}

### 设计一张地图的远景

#### 配置流程

该流程用到了 地图-多层地图背景 插件。

1）首先，提及一下默认的远景设置。

示例中，战斗管理层没有加多层地图背景，仅仅靠一张单图来移动。

玩家镜头移动时，背景不会受镜头移动影响，保持自己原有速度。

![](./MediaFolder/media/image60.png){width="2.05in"
height="2.2039227909011374in"}

2）双击，建立一个新背景。

需要设置背景所属的 地图 。背景X速度/Y速度，与横向循环/纵向循环
是一样的，而且XY速度可以填小数。

![](./MediaFolder/media/image61.png){width="3.3in"
height="2.007283464566929in"}

地图层级默认为下层，

注意，不透明的平铺远景 不要放其他层级，会产生遮挡。

位移比设为0.00，表示背景不受镜头影响

![](./MediaFolder/media/image62.png){width="3.35in"
height="1.1492147856517936in"}

3）配置背景。

比如，添加矩阵阵列背景。矩阵阵列是透明的方块，可以叠加多层。

你也可以调整透明度，使背景透明。

![](./MediaFolder/media/image63.png){width="3.325in"
height="1.8629866579177603in"}
![](./MediaFolder/media/image64.png){width="1.8666666666666667in"
height="1.8666666666666667in"}

叠加三次，分别xy速度为：0.5，1.0，1.5。

![](./MediaFolder/media/image65.png){width="4.616666666666666in"
height="0.727334864391951in"}

4）测试

可以看到方块被叠加了三层。

（由于UI管理层的 图块镜面反射
配置了一面的大的反射镜子，为突出反射效果，所以背景被调暗了许多）

![](./MediaFolder/media/image66.png){width="4.675in"
height="2.822673884514436in"}

5）插件指令修改

地图背景插件
与战斗背景插件一样，可以修改部分移动属性。背景id，对应配置的id。

需要注意的是，地图背景的属性可以跨地图修改，并且修改属性后永久有效。

![](./MediaFolder/media/image67.png){width="3.933333333333333in"
height="2.0841076115485566in"}

6）位移比

上述教程中，位移比都是0.00，即背景完全不受镜头移动影响。

位移比的介绍可以看看章节：[地图界面 - 位移比](#地图界面---位移比) 。

添加一定的位移比，可以增加远景的距离感。

#### 示例中可参考对象

体积管理层中，只用到了 多层地图背景 的插件配置：

![](./MediaFolder/media/image68.png){width="4.166666666666667in"
height="1.2312073490813649in"}

经过五层的 位移比 效果控制，在角色移动时，能明显感受到近大远小的距离感。

![](./MediaFolder/media/image69.jpeg){width="4.11950021872266in"
height="2.275in"}

### 使用平铺GIF模拟转场动画

#### 配置流程

该流程用到了 地图-多层地图平铺GIF 插件。

1）首先将GIF资源准备好。

GIF资源可以通过ps画，也可以上网找一些适合平铺的动图。

![](./MediaFolder/media/image70.png){width="4.829075896762904in"
height="1.05in"}

![](./MediaFolder/media/image71.png){width="4.85in"
height="0.9780588363954505in"}

2）打开 多层地图平铺GIF 插件，选择一项。

![](./MediaFolder/media/image72.png){width="4.241666666666666in"
height="1.3934962817147856in"}

3）将 作用所有地图 开启，并且开启锁定帧。

你需要确保锁定的帧是完全空白透明的图片，不然在游戏场景中会看见平铺的图片。

![](./MediaFolder/media/image73.png){width="3.7132578740157482in"
height="1.55in"}

将图片放到最顶层，且图片层级调大点，尽量在其他最顶层的配置的上面。

（因为转场动画要盖掉所有画面）

![](./MediaFolder/media/image74.png){width="3.235780839895013in"
height="1.95in"}

其他参数都用不上，转场动画的 位移比、偏移xy 都设为0即可。

4）简单建立一个事件，然后执行插件指令。

正向播放，再反向播放。

![](./MediaFolder/media/image75.png){width="5.0in" height="0.95in"}

5）打开游戏，测试效果。

![](./MediaFolder/media/image76.png){width="3.408333333333333in"
height="2.4858759842519684in"}

6）两个不同动画组合

如果你希望 完全空白-\>完全填满 与 完全填满-\>完全空白
是两个不同的动画，可以用下图中的插件指令组合。

![](./MediaFolder/media/image77.png){width="3.85in"
height="1.1732053805774278in"}

在第二个动画播放前，将第一个动画强制归位成0（完全透明），就可以实现组合效果。

7）播放一次完整动画所需时间

所需时间 = 配置的帧数 x 帧间隔

比如，帧间隔为3帧，一共配置了16个GIF，那么，播放一次至少需要48帧的时间。

如果是过场动画，需要等48帧以上的时间。

![](./MediaFolder/media/image78.png){width="3.7666666666666666in"
height="2.0779549431321085in"}

#### 资源说明

GIF的资源配置方式没有限制，

但是这里建议养成一个习惯，方便后面做转场动画时不会搞混乱。

1.资源要按照从 完全空白 到 完全填满 的过程。

（反着的GIF也可以，但是管理起来会变得非常麻烦，所以统一为空白到填满）

2.资源图片要从1开始编号。

（这样每次都可以默认锁定到帧1，这样不会遮挡到地图的图层。）

![](./MediaFolder/media/image79.png){width="5.358333333333333in"
height="2.592720909886264in"}

#### 示例中可参考对象

地图管理层的下图两个事件都用到了转场效果。可以打开示例看看。

![](./MediaFolder/media/image80.png){width="2.525in"
height="1.8243700787401576in"}

### 设计一场战斗的场景效果

#### 配置流程

暂无。

#### 示例中可参考对象

1\) 战斗管理层的 森林示例
只是简单的将多个战斗背景放置，可以你可以通过这个了解基本的战斗背景放置。

![](./MediaFolder/media/image81.png){width="1.7583333333333333in"
height="1.1582338145231845in"}

![](./MediaFolder/media/image82.png){width="5.308333333333334in"
height="1.133117891513561in"}

2\) 战斗管理层的
雪地示例，在放置背景的基础上，额外增加了飘雪的临时变化效果。

你可以通过该示例了解变换的简单用法。

![](./MediaFolder/media/image83.png){width="1.8299551618547683in"
height="1.0416666666666667in"}

![](./MediaFolder/media/image84.png){width="5.3376541994750655in"
height="2.058333333333333in"}

## 设计组合杂记

### 菜单界面

菜单界面主要体现的是 面板、菜单 的性质。

主菜单非常好理解，它只是一个数据显示平台。一般主菜单几乎不会有什么改变，简单的设置，使得背景、粒子等使用默认的就足够了。

**你需要先构思一个静止的统一的菜单面板，完成之后，才对会动的部分进行补充。**

最初的菜单是这样的：

![F:\\rpg
mv箱\\RPCB\`1Z\~6MR\]\~4Y\]F\`3XT{5.jpg](./MediaFolder/media/image85.jpeg){width="3.5913035870516183in"
height="2.6472615923009624in"}

这个背景就是整个面板的核心主题（蓝色、科技），为了进一步体现主题，逐渐添加了下面更多的元素：

![](./MediaFolder/media/image3.png){width="3.7478258967629046in"
height="2.857898075240595in"}

最终效果是 背景和窗口 共同组合的效果，二者之间是相互适应的。

另外，**菜单的插件指令提供了显示与隐藏功能**，你也可以自己绘制两套完全不一样的菜单，然后根据游戏中各种各样的情况，直接修改背景、粒子、魔法圈的显示情况。

比如*不同教派有不同的菜单背景*。

比如*剧情进入高潮，菜单背景开始燃烧*。

比如*恐怖游戏进入黑暗区域时，菜单开始渗透寒气*。

比如*下雨的时候，菜单开始哗啦哗啦滴水*。

比如*随着玩家孤独剧情的深入，拥戴玩家的npc越来越少，菜单的部件也越来越少*。

菜单给玩家对游戏的感受非常直观的，能变化的菜单可以打破玩家对单一菜单的理解。

**当然，非常简洁菜单也很美观，面板并不是为了复杂而复杂。**

![F:\\rpg
mv箱\\RPCB\`1Z\~6MR\]\~4Y\]F\`3XT{5.jpg](./MediaFolder/media/image86.jpeg){width="4.5559492563429576in"
height="3.3583333333333334in"}

如果你想在主菜单界面放置会动的玩家角色，你可以使用**主菜单gif**来实现他们，后期加入的角色可以使用隐藏/显示控制。

**另外注意，并不是所有的菜单面板都可以控制，这个取决于它的底图是否被修改。**

一些自定义的菜单会对底图进行修改，换成自己控制的新底图，这样菜单背景插件就无法对其进行控制了。

### 标题界面

标题界面主要体现的是 游戏故事主题 的性质，标题是玩家对游戏的第一印象。

由于示例不需要体现什么故事主题，所以这里的主题都是东拼西凑来的，所以不要模仿我。

**标题界面大多都是静态的图片为主，偶尔加一些天气、或者动态效果，不一定要非常绚丽的动态效果。**

下面举个例子，用Rmmv自带的菜单：

![F:\\rpg
mv箱\\VCHK\]Q\~T}MCLN{FMW90Z1{K.jpg](./MediaFolder/media/image87.jpeg){width="4.417391732283464in"
height="3.521551837270341in"}

虽然画面简陋，但是你肯定一眼就能猜到，可能是小爱丽丝发生了海难？这可能是个生存游戏？或许小爱丽丝会最后造一个船回家？途中或许会遇到某些可怕的野兽？

游戏的主题、游戏方式、故事情节一目了然。

**玩家看到标题和图片，第一眼就能知道游戏要讲述一个什么样的故事，那么这个标题的主要作用就达成了**。

（想玩的玩家自然会开始游戏，不喜欢的玩家会自行离开。）

（如果标题和游戏完全搭不上边，玩家会有一种被欺骗的感觉，差评就是这样产生的。）

在体现主题的基础上，你可以用平移的菜单背景、人物刻画的背景、别具一格的醒目标题、循环的精致小视频等。

比如单独对角色进行刻画的：（恐怖解谜游戏《化妆镜》）

![C:\\Users\\lenovo\\Documents\\Tencent
Files\\1355126171\\Image\\Group\\Image5\\\`DAQEHWKUZ(JFE}RTAL\$PIH.jpg](./MediaFolder/media/image88.jpeg){width="3.8833333333333333in"
height="3.127626859142607in"}

再比如对游戏故事背景进行渲染的：

![](./MediaFolder/media/image89.png){width="5.291666666666667in"
height="2.7859930008748908in"}

如果你一开始并不想暴露游戏主题，你可以做多种不同风格的标题，然后随着剧情的深入，标题逐渐变化。（可以参考传送门2的标题）

![F:\\rpg
mv箱\\20190209164955_1.jpg](./MediaFolder/media/image90.jpeg){width="5.0261461067366575in"
height="2.825in"}

![F:\\rpg
mv箱\\20190209165229_1.jpg](./MediaFolder/media/image91.jpeg){width="5.0261461067366575in"
height="2.825in"}

（只不过传送门好像直接用的地图本身的引擎场景来作为标题界面，rmmv做不到这一点）

### 地图界面

地图界面主要体现的是 世界 的性质，玩家的主要注意力在地图自己身上。

地图是游戏世界观的核心。有什么故事、有怎样玩法、画面效果如何，只要看看游戏里画的大地图，就一目了然了。

Rmmv的地图界面只有俯视视角。如果你有想法，也可以把地图画成横版游戏。

![](./MediaFolder/media/image92.png){width="4.191666666666666in"
height="2.7004101049868767in"}

由于示例中的世界是系统空间世界，这个世界的图块都是 透明
的，于是地图的背景就变得重要了，而传统的rpg战斗图块都不透明，所以具体需要根据你的游戏实际来决定。

### 战斗界面

战斗界面主要体现的是 空间感 的性质，玩家的主要注意力在敌人身上。

从rmmv给的默认的战斗背景，就是许多非常好的例子，只需要添加一点点动态效果的背景，就能有很好的带入感。

比如：

![F:\\rpg
mv箱\\VNY\$F\[)5QKZ36@\~VRL\`M1WG.jpg](./MediaFolder/media/image93.jpeg){width="4.373912948381452in"
height="2.581809930008749in"}

雪地 + 飘动的雪花背景

![F:\\rpg
mv箱\\NVXLIG1AP62(2)\[ITSJXA_6.jpg](./MediaFolder/media/image94.jpeg){width="4.4608705161854765in"
height="2.4174748468941383in"}

城镇 + 逐渐变强的阳光背景

如果要自己画漂亮的战斗，rmmv的默认示例就是非常好的选择。

当然，如果你追求的是更精致的画质，更增强的打击感，**模仿绘制动作游戏的战斗背景**是非常不错的选择。

（只不过，rmmv只能是2d贴图图层，无法做成游戏的真实3d效果）

![F:\\rpg
mv箱\\20190209113001_1s.jpg](./MediaFolder/media/image95.jpeg){width="5.768055555555556in"
height="3.2450043744531936in"}

或者大招时**直接贴上新的炫酷背景特效/gif特效**：

（直接在rmmv里面编辑更绚丽的动画，可以避免配置复杂的战斗gif）

![F:\\rpg
mv箱\\20180610ddd1.jpg](./MediaFolder/media/image96.jpeg){width="5.768055555555556in"
height="3.2450043744531936in"}

(\*ˉ﹃ˉ)
如果你发现画面非常精致的战斗背景，一定要把它们收集起来，这些都是你后期画出漂亮战斗背景的完美参考素材哦。

具体的配置细节，在示例中都有体现，

**注意，战斗背景、魔法圈、gif等，必须在战斗开始前，就要全部准备好**。

临时出现的背景、魔法圈、GIF，需要设置透明度为0，在控制显现。

![](./MediaFolder/media/image97.png){width="4.026087051618548in"
height="3.075567585301837in"}

战斗背景设置二三十层都没问题，都不会比单个视频动画背景卡。

（所以，能做成战斗背景和魔法圈的部分，尽量不要做成视频来作为背景）

![F:\\rpg
mv箱\\回收站\\}5VO8U}3(C5VIRZ4U%99IYG.jpg](./MediaFolder/media/image98.jpeg){width="4.956521216097988in"
height="2.7348632983377077in"}

其中有个技巧，纯色 + 混合模式2 可以制作出色差变化较大的效果。

（你也可以在纯色图片画一些花纹，看起来玻璃浮雕）

（mog的滤镜插件也可以派上部分用场，只不过敌人和玩家战斗图也会被作用到）

### 动画绑定

动画主要体现的是 持续性 或 瞬间性 的效果。

rmmv原设计的动画有一些不足之处：帧数最大200，动画流畅性较低。

（流畅性低的主要原因，是因为脚本层面就固定了4帧的游戏时间才播放下一帧的动画，素材也不好提供高清的。）

这里，你可以配置多个不同的魔法圈绑定在同一个动画中，实现快速配置流畅性较高的动画效果。

动画中，根据时间设置分为4个阶段： 延迟、出现、持续、消失

![](./MediaFolder/media/image99.png){width="1.250909886264217in"
height="1.1935772090988626in"}
![](./MediaFolder/media/image100.png){width="1.3404680664916886in"
height="1.194874234470691in"}
![](./MediaFolder/media/image7.png){width="1.2426017060367454in"
height="1.1978248031496064in"}
![](./MediaFolder/media/image101.png){width="1.2794542869641294in"
height="1.1969094488188976in"}

**每个魔法圈、粒子等都是单独配置这4个阶段，你可以控制不同时机下效果出现的时机。**

延迟：正常播放动画，但是魔法圈都不会出现。

出现：魔法圈出现时的时间。

持续：魔法圈长期待着的时间。

消失：魔法圈消失的时间。

（如果你想设置无限持续时间，可以直接设置8位数就可以了。）

（60帧为1秒，3600为1分钟，5184000为1整天的持续时间。）

**如果你设置的是战斗动画、持续魔法效果，去看看动画文件夹下的：**

**关于魔法效果与并行动画.docx**

**\
**

## 其他说明

### Mog旧插件

**新写的插件和mog原来的插件功能一样，不建议全部开启使用。**

◆MOG_MenuBackground.js 主菜单 - 菜单背景

◆MOG_MenuParticles.js 主菜单 - 菜单粒子效果

对应 ◆Drill_MenuBackground.js 主菜单 -- 多层菜单背景

对应 ◆Drill_MenuParticles.js 主菜单 -- 多层菜单粒子

mog插件中的背景和粒子，**只能一个背景对应一个菜单**，并且控制能力十分有限。这里干脆推倒重建，将所有的菜单、粒子进行划分。

其中 背景 和 粒子
是有**默认设置**的，即如果进入的菜单没有任何背景或粒子设置，则使用默认的。

◆MOG_BattlebackEX.js 战斗 -- 动态战斗背景

◆MOG_BattleCamera.js 战斗 -- 动态镜头

对应 ◆Drill_BattleBackground.js 战斗 -- 多层战斗背景

对应 ◆Drill_BattleCamera.js 战斗 -- 活动战斗镜头

mog插件中的背景和动态镜头是相互关联的，**但是对yep改变窗口分辨率后，背景会紊乱**。为了兼容，以及添加魔法圈等设置，这里干脆推倒重建。
